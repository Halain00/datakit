<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CI_monitored_pool (datakit-ci.CI_monitored_pool)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">datakit-ci</a> &#x00BB; CI_monitored_pool</nav><h1>Module <code>CI_monitored_pool</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-pools"><a href="#val-pools" class="anchor"></a><code><span class="keyword">val</span> pools : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> Astring.String.Map.t</code></dt><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-use"><a href="#val-use" class="anchor"></a><code><span class="keyword">val</span> use : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> ?&#8288;log:<a href="../CI_live_log/index.html#type-t">CI_live_log.t</a> <span>&#45;&gt;</span> ?&#8288;label:string <span>&#45;&gt;</span> <a href="../CI_s/index.html#type-job_id">CI_s.job_id</a> <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <span class="type-var">'a</span> Lwt.t) <span>&#45;&gt;</span> <span class="type-var">'a</span> Lwt.t</code></dt><dd><p><code>use t job fn</code> evaluates <code>fn ()</code> with one pool resource held. <code>job</code> (and <code>label</code>) will be displayed as the reason why the resource is in use. If <code>log</code> is provided then a message will be logged if we have to wait, and if the log is cancellable then the user will be able to cancel the operation.</p></dd></dl><dl><dt class="spec value" id="val-active"><a href="#val-active" class="anchor"></a><code><span class="keyword">val</span> active : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-capacity"><a href="#val-capacity" class="anchor"></a><code><span class="keyword">val</span> capacity : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-qlen"><a href="#val-qlen" class="anchor"></a><code><span class="keyword">val</span> qlen : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-users"><a href="#val-users" class="anchor"></a><code><span class="keyword">val</span> users : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> ((<a href="../CI_s/index.html#type-job_id">CI_s.job_id</a> * string option) * <a href="../CI_live_log/index.html#type-t">CI_live_log.t</a> option) list</code></dt><dd><p><code>users t</code> is the list of reasons why resources are being used, one per resource, and (optionally) its log (through which it may be possible to cancel the job).</p></dd></dl></div></body></html>