<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>API (datakit-github.Datakit_github.API)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">datakit-github</a> &#x00BB; <a href="../index.html">Datakit_github</a> &#x00BB; API</nav><h1>Module type <code>Datakit_github.API</code></h1><p>Signature for the GitHub API.</p></header><dl><dt class="spec type" id="type-token"><a href="#type-token" class="anchor"></a><code><span class="keyword">type</span> token</code></dt><dd><h2 id="api-tokens"><a href="#api-tokens" class="anchor"></a>API tokens</h2><p>The type for API tokens.</p></dd></dl><dl><dt class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><code><span class="keyword">type</span> 'a result</code><code> = (<span class="type-var">'a</span>, string) Result.result Lwt.t</code></dt><dd><p>The type for results.</p></dd></dl><dl><dt class="spec value" id="val-user_exists"><a href="#val-user_exists" class="anchor"></a><code><span class="keyword">val</span> user_exists : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> user:<a href="../User/index.html#type-t">User.t</a> <span>&#45;&gt;</span> bool <a href="index.html#type-result">result</a></code></dt><dd><p><code>exist_user t ~user</code> is true iff <code>user</code> exists.</p></dd></dl><dl><dt class="spec value" id="val-repo_exists"><a href="#val-repo_exists" class="anchor"></a><code><span class="keyword">val</span> repo_exists : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> bool <a href="index.html#type-result">result</a></code></dt><dd><p><code>exists_repo t r</code> is true iff the repository <code>r</code> exists.</p></dd></dl><dl><dt class="spec value" id="val-repos"><a href="#val-repos" class="anchor"></a><code><span class="keyword">val</span> repos : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> user:<a href="../User/index.html#type-t">User.t</a> <span>&#45;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> list <a href="index.html#type-result">result</a></code></dt><dd><p><code>repos t ~user</code> is the list of repositories owned by user <code>user</code>.</p></dd></dl><dl><dt class="spec value" id="val-status"><a href="#val-status" class="anchor"></a><code><span class="keyword">val</span> status : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Commit/index.html#type-t">Commit.t</a> <span>&#45;&gt;</span> <a href="../Status/index.html#type-t">Status.t</a> list <a href="index.html#type-result">result</a></code></dt><dd><p><code>status t c</code> returns the list of status attached to the commit <code>c</code>.</p></dd></dl><dl><dt class="spec value" id="val-set_status"><a href="#val-set_status" class="anchor"></a><code><span class="keyword">val</span> set_status : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Status/index.html#type-t">Status.t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-result">result</a></code></dt><dd><p><code>set_status t s</code> updates <code>Status.commit s</code>'s status with <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-set_ref"><a href="#val-set_ref" class="anchor"></a><code><span class="keyword">val</span> set_ref : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Ref/index.html#type-t">Ref.t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-result">result</a></code></dt><dd><p><code>set_ref t r</code> updates the reference named <code>Ref.name r</code> with <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-remove_ref"><a href="#val-remove_ref" class="anchor"></a><code><span class="keyword">val</span> remove_ref : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> string list <span>&#45;&gt;</span> unit <a href="index.html#type-result">result</a></code></dt><dd><p><code>remove_ref t n</code> removes the reference named <code>n</code>.</p></dd></dl><dl><dt class="spec value" id="val-set_pr"><a href="#val-set_pr" class="anchor"></a><code><span class="keyword">val</span> set_pr : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../PR/index.html#type-t">PR.t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-result">result</a></code></dt><dd><p><code>set_pr t pr</code> updates the PR number <code>PR.number pr</code> with <code>pr</code>.</p></dd></dl><dl><dt class="spec value" id="val-prs"><a href="#val-prs" class="anchor"></a><code><span class="keyword">val</span> prs : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> <a href="../PR/index.html#type-t">PR.t</a> list <a href="index.html#type-result">result</a></code></dt><dd><p><code>prs t r</code> is the list of open pull-requests for the repo <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-pr"><a href="#val-pr" class="anchor"></a><code><span class="keyword">val</span> pr : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../PR/index.html#type-id">PR.id</a> <span>&#45;&gt;</span> <a href="../PR/index.html#type-t">PR.t</a> option <a href="index.html#type-result">result</a></code></dt><dd><p><code>pr t id</code> is the contents of the pull request whose ID Is <code>id</code>.</p></dd></dl><dl><dt class="spec value" id="val-refs"><a href="#val-refs" class="anchor"></a><code><span class="keyword">val</span> refs : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> <a href="../Ref/index.html#type-t">Ref.t</a> list <a href="index.html#type-result">result</a></code></dt><dd><p><code>refs t r</code> is the list of references for the the repo <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-ref"><a href="#val-ref" class="anchor"></a><code><span class="keyword">val</span> ref : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Ref/index.html#type-id">Ref.id</a> <span>&#45;&gt;</span> <a href="../Ref/index.html#type-t">Ref.t</a> option <a href="index.html#type-result">result</a></code></dt><dd><p><code>ref t id</code> is the Git reference whose ID is <code>id</code>.</p></dd></dl><dl><dt class="spec value" id="val-events"><a href="#val-events" class="anchor"></a><code><span class="keyword">val</span> events : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="../Repo/index.html#type-t">Repo.t</a> <span>&#45;&gt;</span> <a href="../Event/index.html#type-t">Event.t</a> list <a href="index.html#type-result">result</a></code></dt><dd><p><code>event t r</code> is the list of events attached to the repository <code>r</code>. Note: can be slow/costly if multiple pages of events.</p></dd></dl><div class="spec module" id="module-Webhook"><a href="#module-Webhook" class="anchor"></a><code><span class="keyword">module</span> <a href="Webhook/index.html">Webhook</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>