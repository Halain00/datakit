<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Capabilities (datakit-github.Datakit_github.Capabilities)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">datakit-github</a> &#x00BB; <a href="../index.html">Datakit_github</a> &#x00BB; Capabilities</nav><h1>Module <code>Datakit_github.Capabilities</code></h1><p>API capabilities, used to restrict the scope of an <a href="../module-type-API/index.html#type-token"><code>API.token</code></a>.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type for API capabilities.</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><a href="index.html#type-t">t</a> Fmt.t</span></code></dt><dd><p><code>pp</code> is the pretty-printer for capabilities.</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>equal</code> equalizes capabilities.</p></dd></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : string <span>&#45;&gt;</span> <span>[ <span>`Error of string</span> <span><span>| `Ok</span> of <a href="index.html#type-t">t</a></span> ]</span></code></dt><dd><p><code>parse</code> is the parses capabilites, such that <code>parse
      (Fmt.to_to_string pp x) = `Ok x</code>.</p></dd></dl><dl><dt class="spec type" id="type-op"><a href="#type-op" class="anchor"></a><code><span class="keyword">type</span> op</code> = <code>[ </code><table class="variant"><tr id="type-op.Read" class="anchored"><td class="def constructor"><a href="#type-op.Read" class="anchor"></a><code>| </code><code>`Read</code></td></tr><tr id="type-op.Write" class="anchored"><td class="def constructor"><a href="#type-op.Write" class="anchor"></a><code>| </code><code>`Write</code></td></tr><tr id="type-op.Excl" class="anchored"><td class="def constructor"><a href="#type-op.Excl" class="anchor"></a><code>| </code><code>`Excl</code></td></tr></table><code> ]</code></dt><dd><p>The type for API operations.</p><ul><li><code>`Read</code> allows the bridge to read the corresponding kind of GitHub resources</li><li><code>`Write</code> allows the bridge to update the corresponding kind of resource.</li><li><code>`Excl</code> means that the bridge has exclusive write access to the corresponding GitHub resource. In particular, this means that when the bridge is disconnect/reconnect it will always try to update GitHub to match with the current state of its local resources and it will revert any changes made by other GitHub users on this kind of resources.</li></ul></dd></dl><dl><dt class="spec value" id="val-pp_op"><a href="#val-pp_op" class="anchor"></a><code><span class="keyword">val</span> pp_op : <span><a href="index.html#type-op">op</a> Fmt.t</span></code></dt><dd><p><code>pp_op</code> is the pretty-printer for resource operations.</p></dd></dl><dl><dt class="spec type" id="type-resource"><a href="#type-resource" class="anchor"></a><code><span class="keyword">type</span> resource</code> = <code>[ </code><table class="variant"><tr id="type-resource.Repo" class="anchored"><td class="def constructor"><a href="#type-resource.Repo" class="anchor"></a><code>| </code><code>`Repo <span class="keyword">of</span> <span>string list</span></code></td></tr><tr id="type-resource.PR" class="anchored"><td class="def constructor"><a href="#type-resource.PR" class="anchor"></a><code>| </code><code>`PR</code></td></tr><tr id="type-resource.Commit" class="anchored"><td class="def constructor"><a href="#type-resource.Commit" class="anchor"></a><code>| </code><code>`Commit</code></td></tr><tr id="type-resource.Status" class="anchored"><td class="def constructor"><a href="#type-resource.Status" class="anchor"></a><code>| </code><code>`Status <span class="keyword">of</span> <span>string list</span></code></td></tr><tr id="type-resource.Ref" class="anchored"><td class="def constructor"><a href="#type-resource.Ref" class="anchor"></a><code>| </code><code>`Ref</code></td></tr><tr id="type-resource.Webhook" class="anchored"><td class="def constructor"><a href="#type-resource.Webhook" class="anchor"></a><code>| </code><code>`Webhook</code></td></tr></table><code> ]</code></dt><dd><p>The type for API resources.</p></dd></dl><dl><dt class="spec value" id="val-pp_resource"><a href="#val-pp_resource" class="anchor"></a><code><span class="keyword">val</span> pp_resource : <span><a href="index.html#type-resource">resource</a> Fmt.t</span></code></dt><dd><p><code>pp_resource</code> is the pretty-printer for resources.</p></dd></dl><dl><dt class="spec value" id="val-none"><a href="#val-none" class="anchor"></a><code><span class="keyword">val</span> none : <a href="index.html#type-t">t</a></code></dt><dd><p><code>none</code> is the capability to do nothing.</p></dd></dl><dl><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val</span> all : <a href="index.html#type-t">t</a></code></dt><dd><p><code>all</code> is the capability to do everything.</p></dd></dl><dl><dt class="spec value" id="val-allow"><a href="#val-allow" class="anchor"></a><code><span class="keyword">val</span> allow : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-op">op</a> <span>&#45;&gt;</span> <span>[ `Default <span>| <a href="index.html#type-resource">resource</a></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>allow t o r</code> is <code>t</code> with the capability to do API calls of type <code>o</code> to the kind of resource <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-disallow"><a href="#val-disallow" class="anchor"></a><code><span class="keyword">val</span> disallow : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-op">op</a> <span>&#45;&gt;</span> <span>[ `Default <span>| <a href="index.html#type-resource">resource</a></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>disallow t o r</code> is <code>t</code> without the capability to do API calls of type <code>o</code> to the kind of resource <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-check"><a href="#val-check" class="anchor"></a><code><span class="keyword">val</span> check : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-op">op</a> <span>&#45;&gt;</span> <a href="index.html#type-resource">resource</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>check t o r</code> is true if <code>t</code> is allowed to to <code>o</code> on the kind of resource <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-filter_diff"><a href="#val-filter_diff" class="anchor"></a><code><span class="keyword">val</span> filter_diff : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-op">op</a> <span>&#45;&gt;</span> <a href="../Snapshot/index.html#type-diff">Snapshot.diff</a> <span>&#45;&gt;</span> <a href="../Snapshot/index.html#type-diff">Snapshot.diff</a></code></dt><dd><p><code>filter_diff t op d</code> filters the diff <code>d</code> to only apply the subset of operations <code>op</code> over the capabilities defined by <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-filter_elt"><a href="#val-filter_elt" class="anchor"></a><code><span class="keyword">val</span> filter_elt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-op">op</a> <span>&#45;&gt;</span> <a href="../Elt/index.html#type-t">Elt.t</a> <span>&#45;&gt;</span> bool</code></dt></dl></div></body></html>